<div class="container">
    <form action="" id="registerForm" onsubmit="return make_json(this)" method="POST">
        <div class="row">
            <div class="col-sm-4">
                <h1><font face="Century Gothic" color=white size="6">Form Antri Klinik</font></h1>
                <br>

                <input type="text" placeholder="Domain" id="domain" required>
                <button type="button" onclick="loadDoc()" id="btn"><font face="Century Gothic" size="3">OK</font></button>

                <br><br>
                <input type="text" placeholder="ID" disabled id="id" required>
                <input type="text" placeholder="Harga" disabled id="harga" required><br>
                <input type="text" placeholder="Nama Penjual" disabled id="namaPenjual" required><br>
                <i>*otomatis berdasarkan Domain</i>
                <br><br>
                <font face="Century Gothic" color=black size="3">Tanggal Beli : </font><br>
                <script>
                    var tD = new Date();
                    var datestr = (tD.getMonth() + 1) + "/" + tD.getDate() + "/" + tD.getFullYear();
                    document.write("<input type='text' id='tanggalPembelian' name='textField' disabled value='" + datestr + "'>");
                </script>
                <br><br>
            </div>
            <div class="col-sm-4">
                <br>
                <button class="button" id="save" type="Submit" style="vertical-align:middle"><font face="Century Gothic" size="4" ><span>BELI </span></font></button>
            </div>
        </div>
    </form>
</div>
<p id="output"></p>
<script>
    function loadDoc() {
        var url = "http://202.94.83.190:8080/Pencari_Domain3/webresources/domain/caridomain?domain=" + domain.value;
        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", url, true);
        xhttp.send();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var myObj = JSON.parse(this.responseText);
                document.getElementById("id").value = myObj.id;
                document.getElementById("harga").value = myObj.harga;
                document.getElementById("namaPenjual").value = myObj.namaPenjual;
                document.getElementById("domain").value = myObj.domain;
            }
        }
    }
    function make_json(form) {
        var json = {
            "id": form.id.value,
            "domain": form.domain.value,
            "harga": form.harga.value,
            "namaPenjual": form.namaPenjual.value,
            "tanggalPembelian": form.tanggalPembelian.value,
        };
        var html = JSON.stringify(json, 0, 100);
        var Url = "http://202.94.83.190:8080/Pencari_Domain3/webresources/transaksi/addTransaksi";
        var xhr = new XMLHttpRequest();
        xhr.open('POST', Url, false);
        xhr.setRequestHeader("Content-type", "application/json");
        xhr.send(html);
        alert(html);
        document.getElementById("output").innerHTML = html;
        return false;
    }
</script>